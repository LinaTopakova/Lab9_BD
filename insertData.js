require('dotenv').config();
const mongoose = require('mongoose');
const Article = require('./models/article');

(async () => {
    try{
        await mongoose.connect(process.env.MONGODB_URI);
        await Article.deleteMany({});
        const docs = [
            {
                title: "Современные методы машинного обучения",
                authors: ["Иван Иванов", "Мария Петрова"],
                date: "2025-06-01",
                content: "В статье рассматриваются современные методы машинного обучения и их применение в различных областях.",
                tags: ["машинное обучение", "искусственный интеллект", "данные"],
                reviews: [
                    {name: "Алексей", text: "Очень информативная статья.", rating: 9},
                    {name: "Ольга", text: "Полезно для начинающих.", rating: 8}
                ]
            },
            {
                title: "Влияние изменения климата на биоразнообразие",
                authors: ["Елена Смирнова"],
                date: "2025-05-20",
                content: "Анализируется влияние изменения климата на разнообразие видов в различных экосистемах.",
                tags: ["экология", "климат", "биоразнообразие"],
                reviews: [
                    {name: "Дмитрий", text: "Актуальная и важная тема.", rating: 10}
                ]
            },
            {
                title: "Разработка веб-приложений с использованием Node.js",
                authors: ["Сергей Козлов", "Анна Васильева"],
                date: "2025-06-10",
                content: "Рассматриваются основные подходы к разработке веб-приложений на платформе Node.js.",
                tags: ["веб-разработка", "Node.js", "JavaScript"],
                reviews: [
                    {name: "Ирина", text: "Полезные советы и примеры.", rating: 8},
                    {name: "Павел", text: "Хорошо структурированная статья.", rating: 9}
                ]
            },
            {
                title: "История развития квантовых вычислений",
                authors: ["Николай Федоров"],
                date: "2025-04-15",
                content: "Обзор ключевых этапов и достижений в области квантовых вычислений.",
                tags: ["квантовые вычисления", "технологии", "наука"],
                reviews: [
                    {name: "Марина", text: "Очень познавательно.", rating: 9}
                ]
            },
            {
                title: "Перспективы развития возобновляемой энергетики",
                authors: ["Александр Новиков"],
                date: "2025-06-05",
                content: "Обсуждаются перспективы и вызовы в развитии возобновляемых источников энергии.",
                tags: ["энергетика", "возобновляемые источники", "экология"],
                reviews: [
                    {name: "Екатерина", text: "Интересный взгляд на будущее энергетики.", rating: 8},
                    {name: "Владимир", text: "Полезная информация для специалистов.", rating: 7}
                ]
            }
        ];
        await Article.insertMany(docs);
    } catch(err) {
        console.error(err);
    }finally {
        await mongoose.disconnect();
    }
})();